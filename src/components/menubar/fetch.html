<!--
  fetch.html
  template for using fetch api instead of axios

  currently working for drinkbase API...
-->

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Fetch API</title>
  </head>
  <body>
   <script type="text/javascript">
     let loaded = false;
     function callAPI() {
       // calls API and returns entire Drinks object
       fetch("http://localhost:5000/api/v1.0/names/?name=") 
         .then(response => {
          return response.json();
         })
         .then(myJson => {
           console.log("myJson loaded");
           loaded = true; 
           return myJson;
         })
        .then(function getDrinkNames(myJson) {
         // pulls names from drink object 
         let drinks = []; 
         for (var i=0; i<myJson.Drinks.length; i++) {
           drinks.push(myJson.Drinks[i].Name)
         }
         console.log(drinks.sort());
         return drinks.sort();
       })
     }

     const drinks = callAPI();

   </script>
  </body>
</html>
